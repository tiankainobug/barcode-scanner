import{k as P,d as L,i as a,s as T,e as V,g as m,u as p,x as _,t as C,b as R,y as z}from"./index-Wf1-Thzh.js";import{c as E,e as N,m as u,n as U,B as O,I as q,p as $,L as j,w as A,U as F}from"./index-jU01FLVD.js";const G={to:[String,Object],url:String,replace:Boolean};function H({to:e,url:o,replace:i,$router:r}){e&&r?r[i?"replace":"push"](e):o&&(i?location.replace(o):location.href=o)}function J(){const e=P().proxy;return()=>H(e)}const[K,c]=E("button"),M=N({},G,{tag:u("button"),text:String,icon:String,type:u("default"),size:u("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:u("button"),loadingSize:U,loadingText:String,loadingType:String,iconPosition:u("left")});var Q=L({name:K,props:M,emits:["click"],setup(e,{emit:o,slots:i}){const r=J(),d=()=>i.loading?i.loading():a(j,{size:e.loadingSize,type:e.loadingType,class:c("loading")},null),n=()=>{if(e.loading)return d();if(i.icon)return a("div",{class:c("icon")},[i.icon()]);if(e.icon)return a(q,{name:e.icon,class:c("icon"),classPrefix:e.iconPrefix},null)},l=()=>{let t;if(e.loading?t=e.loadingText:t=i.default?i.default():e.text,t)return a("span",{class:c("text")},[t])},g=()=>{const{color:t,plain:f}=e;if(t){const s={color:f?t:"white"};return f||(s.background=t),t.includes("gradient")?s.border=0:s.borderColor=t,s}},b=t=>{e.loading?$(t):e.disabled||(o("click",t),r())};return()=>{const{tag:t,type:f,size:s,block:S,round:h,plain:k,square:w,loading:I,disabled:x,hairline:y,nativeType:v,iconPosition:B}=e,D=[c([f,s,{plain:k,block:S,round:h,square:w,loading:I,disabled:x,hairline:y}]),{[O]:y}];return a(t,{type:v,class:D,style:g(),disabled:x,onClick:b},{default:()=>[a("div",{class:c("content")},[B==="left"&&n(),l(),B==="right"&&n()])]})}}});const W=A(Q),X={style:{display:"flex","flex-direction":"column"}},Y={style:{color:"#111111"}},te={__name:"Demo2",setup(e){const o=T({fileList:[],res:""}),i=()=>{if("BarcodeDetector"in window){const d=new BarcodeDetector({formats:["code_128"]}),n=document.getElementById("scannerImg");console.log("img",n),d.detect(n).then(l=>{l.forEach(g=>{console.log("解析结果是："+g.rawValue),o.res=g.rawValue})}).catch(l=>{console.error(`解析出错：${l}`)})}else console.log("111")},r=()=>{document.getElementById("scannerImg").setAttribute("src",o.fileList[0].content),o.fileList=[]};return(d,n)=>(R(),V("div",X,[n[2]||(n[2]=m("h1",null,"方案 2：BarcodeDetector",-1)),a(p(F),{modelValue:o.fileList,"onUpdate:modelValue":n[0]||(n[0]=l=>o.fileList=l),capture:"camera","preview-image":!1,"after-read":r},null,8,["modelValue"]),n[3]||(n[3]=m("img",{id:"scannerImg",src:"",style:{width:"200px",height:"300px"},alt:""},null,-1)),a(p(W),{onClick:i},{default:_(()=>n[1]||(n[1]=[z("测试")])),_:1}),m("h2",Y,"测试结果："+C(o.res),1)]))}};export{te as default};
