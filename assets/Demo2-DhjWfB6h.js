import{s as d,e as m,g as a,i as n,u as r,x as u,t as f,b as g,y as p}from"./index-C5bb5ypq.js";import{U as B,B as x}from"./index-DPhtILql.js";const w={style:{display:"flex","flex-direction":"column"}},y={style:{color:"#111111"}},_={__name:"Demo2",setup(V){const t=d({fileList:[],res:""}),i=()=>{if("BarcodeDetector"in window){const s=new BarcodeDetector({formats:["code_128"]}),e=document.getElementById("scannerImg");console.log("img",e),s.detect(e).then(o=>{o.forEach(l=>{console.log("解析结果是："+l.rawValue),t.res=l.rawValue})}).catch(o=>{console.error(`解析出错：${o}`)})}else console.log("111")},c=()=>{document.getElementById("scannerImg").setAttribute("src",t.fileList[0].content),t.fileList=[]};return(s,e)=>(g(),m("div",w,[e[2]||(e[2]=a("h1",null,"方案 2：BarcodeDetector",-1)),n(r(B),{modelValue:t.fileList,"onUpdate:modelValue":e[0]||(e[0]=o=>t.fileList=o),capture:"camera","preview-image":!1,"after-read":c},null,8,["modelValue"]),e[3]||(e[3]=a("img",{id:"scannerImg",src:"",style:{width:"200px",height:"300px"},alt:""},null,-1)),n(r(x),{onClick:i},{default:u(()=>e[1]||(e[1]=[p("测试")])),_:1}),a("h2",y,"测试结果："+f(t.res),1)]))}};export{_ as default};
